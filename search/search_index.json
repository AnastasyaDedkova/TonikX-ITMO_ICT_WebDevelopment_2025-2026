{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 1 \u043f\u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0443 Web-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":""},{"location":"#1","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 1.","text":""},{"location":"#_1","title":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","text":"<p>\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043d\u0430 Python \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 socket \u0438 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430 UDP. \u041a\u043b\u0438\u0435\u043d\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 <code>\"Hello, server\"</code>, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u0412 \u043e\u0442\u0432\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 <code>\"Hello, client\"</code>, \u0438 \u043e\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0443 \u043a\u043b\u0438\u0435\u043d\u0442\u0430.</p>"},{"location":"#_2","title":"\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f","text":"<ul> <li>Python 3.6+</li> <li>\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438:</li> <li><code>socket</code></li> </ul>"},{"location":"#_3","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<ul> <li><code>server.py</code> \u2014 \u043a\u043e\u0434 \u0441\u0435\u0440\u0432\u0435\u0440\u0430</li> <li><code>client.py</code> \u2014 \u043a\u043e\u0434 \u043a\u043b\u0438\u0435\u043d\u0442\u0430</li> </ul>"},{"location":"#_4","title":"\u041a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440","text":"<ol> <li>\u0421\u0435\u0440\u0432\u0435\u0440 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 UDP-\u0441\u043e\u043a\u0435\u0442 \u0438 \u0441\u043b\u0443\u0448\u0430\u0435\u0442 \u043f\u043e\u0440\u0442 <code>9090</code>.</li> <li>\u041a\u043b\u0438\u0435\u043d\u0442 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 UDP-\u0441\u043e\u043a\u0435\u0442 \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u0442\u0440\u043e\u043a\u0443 <code>\"Hello, server\"</code> \u043d\u0430 \u0430\u0434\u0440\u0435\u0441 <code>localhost:9090</code>.</li> <li>\u0421\u0435\u0440\u0432\u0435\u0440 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u0432\u044b\u0432\u043e\u0434\u0438\u0442 \u0435\u0433\u043e \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u044c \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u043e\u0431\u0440\u0430\u0442\u043d\u043e \u0441\u0442\u0440\u043e\u043a\u0443 <code>\"Hello, client\"</code>.</li> <li>\u041a\u043b\u0438\u0435\u043d\u0442 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043e\u0442\u0432\u0435\u0442 \u0438 \u0432\u044b\u0432\u043e\u0434\u0438\u0442 \u0435\u0433\u043e \u0432 \u043a\u043e\u043d\u0441\u043e\u043b\u044c.</li> </ol>"},{"location":"#_5","title":"\u0417\u0430\u043f\u0443\u0441\u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0430","text":""},{"location":"#1_1","title":"\u0428\u0430\u0433 1: \u0417\u0430\u043f\u0443\u0441\u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0430","text":"<p>\u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b \u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435:</p> <pre><code>cd Task1\npython server.py\n</code></pre> <p>\u0412\u044b\u0432\u043e\u0434 \u0431\u0443\u0434\u0435\u0442 \u0442\u0430\u043a\u0438\u043c</p> <pre><code>UDP \u0441\u0435\u0440\u0432\u0435\u0440 \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u043d\u0430 localhost:9090...\n\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043e\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0430...\n</code></pre>"},{"location":"#2","title":"\u0428\u0430\u0433 2: \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0430","text":"<p>\u0412 \u0434\u0440\u0443\u0433\u043e\u043c \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435:</p> <pre><code>python client_udp.py\n</code></pre> <p>\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430</p> <p>\u0414\u043b\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 Ctrl+C \u0432 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435. \u041a\u043b\u0438\u0435\u043d\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0430\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u043e\u0441\u043b\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043e\u0442\u0432\u0435\u0442\u0430.</p>"},{"location":"#_6","title":"\u041a\u043e\u0434:","text":"<p>server.py</p> <pre><code>import socket\n\n# \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0441\u0435\u0440\u0432\u0435\u0440\u0430\nHOST = 'localhost'  # \u0410\u0434\u0440\u0435\u0441 \u0445\u043e\u0441\u0442\u0430\nPORT = 9090         # \u041f\u043e\u0440\u0442 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441\u0435\u0440\u0432\u0435\u0440\u0430\n\n# \u0421\u043e\u0437\u0434\u0430\u0435\u043c UDP \u0441\u043e\u043a\u0435\u0442\nserver_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)\n\n# \u041f\u0440\u0438\u0432\u044f\u0437\u044b\u0432\u0430\u0435\u043c \u0441\u043e\u043a\u0435\u0442 \u043a \u0430\u0434\u0440\u0435\u0441\u0443 \u0438 \u043f\u043e\u0440\u0442\u0443\nserver_socket.bind((HOST, PORT))\nprint(f\"UDP \u0441\u0435\u0440\u0432\u0435\u0440 \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u043d\u0430 {HOST}:{PORT}...\")\nprint(\"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043e\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0430...\")\n\nwhile True:\n    try:\n        # \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\n        data, client_address = server_socket.recvfrom(1024)\n\n        # \u0414\u0435\u043a\u043e\u0434\u0438\u0440\u0443\u0435\u043c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435\n        message = data.decode('utf-8')\n        print(f\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442 {client_address}: {message}\")\n\n        # \u041e\u0442\u0432\u0435\u0442 \u0434\u043b\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430\n        response = \"Hello, client\"\n\n        # \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u043e\u0442\u0432\u0435\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0443\n        server_socket.sendto(response.encode('utf-8'), client_address)\n        print(f\"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043e\u0442\u0432\u0435\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0443 {client_address}: {response}\")\n\n    except KeyboardInterrupt:\n        print(\"\\n\u0421\u0435\u0440\u0432\u0435\u0440 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c\")\n        break\n    except Exception as e:\n        print(f\"\u041e\u0448\u0438\u0431\u043a\u0430: {e}\")\n\n# \u0417\u0430\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u0441\u043e\u043a\u0435\u0442\nserver_socket.close()\nprint(\"\u0421\u0435\u0440\u0432\u0435\u0440 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b \u0440\u0430\u0431\u043e\u0442\u0443\")\n\n</code></pre> <p>client.py</p> <pre><code>import socket\n\nHOST = 'localhost'  # \u0410\u0434\u0440\u0435\u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430\nPORT = 9090         # \u041f\u043e\u0440\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430\n\n# \u0421\u043e\u0437\u0434\u0430\u0435\u043c UDP \u0441\u043e\u043a\u0435\u0442\nclient_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)\n\ntry:\n    # \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u0430\n    message = \"Hello, server\"\n\n    # \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0443\n    print(f\"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0443: {message}\")\n    client_socket.sendto(message.encode('utf-8'), (HOST, PORT))\n\n    # \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430\n    print(\"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u0432\u0435\u0442\u0430 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430...\")\n    data, server_address = client_socket.recvfrom(1024)\n\n    # \u0414\u0435\u043a\u043e\u0434\u0438\u0440\u0443\u0435\u043c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442\n    response = data.decode('utf-8')\n    print(f\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d \u043e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 {server_address}: {response}\")\n\nexcept Exception as e:\n    print(f\"\u041e\u0448\u0438\u0431\u043a\u0430: {e}\")\n\nfinally:\n    # \u0417\u0430\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u0441\u043e\u043a\u0435\u0442\n    client_socket.close()\n    print(\"\u041a\u043b\u0438\u0435\u043d\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b \u0440\u0430\u0431\u043e\u0442\u0443\")\n\n</code></pre>"},{"location":"#2_1","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 2.","text":""},{"location":"#_7","title":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","text":"<p>\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043d\u0430 Python \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 socket \u0438 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430 TCP. \u0422\u0430\u043a \u043a\u0430\u043a \u0432 \u0436\u0443\u0440\u043d\u0430\u043b\u0435 \u043c\u043e\u0439 \u043f\u043e\u0440\u044f\u0434\u043a\u043e\u0432\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 9, \u044f \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u044b\u0432\u0430\u043b\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u0412\u0430\u0440\u0438\u0430\u043d\u0442\u0430 1. \u041a\u043b\u0438\u0435\u043d\u0442 \u0432\u0432\u043e\u0434\u0438\u0442 \u0434\u0432\u0430 \u0447\u0438\u0441\u043b\u0430 (\u043a\u0430\u0442\u0435\u0442\u044b \u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u043e\u0433\u043e \u0442\u0440\u0435\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a\u0430) \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0438\u0445 \u0441\u0435\u0440\u0432\u0435\u0440\u0443. \u0421\u0435\u0440\u0432\u0435\u0440 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0443 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0433\u0438\u043f\u043e\u0442\u0435\u043d\u0443\u0437\u044b \u043f\u043e \u0442\u0435\u043e\u0440\u0435\u043c\u0435 \u041f\u0438\u0444\u0430\u0433\u043e\u0440\u0430.</p> <p>\u0424\u043e\u0440\u043c\u0443\u043b\u0430: <code>c = sqrt(a**2 + b**2)</code></p>"},{"location":"#_8","title":"\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f","text":"<ul> <li>Python 3.6+</li> <li>\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438:</li> <li><code>socket</code></li> <li><code>math</code></li> </ul>"},{"location":"#_9","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<ul> <li><code>server.py</code> \u2014 TCP-\u0441\u0435\u0440\u0432\u0435\u0440, \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u044e\u0449\u0438\u0439 \u0437\u0430\u043f\u0440\u043e\u0441\u044b</li> <li><code>client.py</code> \u2014 TCP-\u043a\u043b\u0438\u0435\u043d\u0442 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445</li> </ul>"},{"location":"#_10","title":"\u041a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430","text":"<ol> <li>\u0421\u0435\u0440\u0432\u0435\u0440 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 TCP-\u0441\u043e\u043a\u0435\u0442 \u0438 \u0441\u043b\u0443\u0448\u0430\u0435\u0442 \u043f\u043e\u0440\u0442 <code>9091</code>.</li> <li>\u041a\u043b\u0438\u0435\u043d\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u0438 \u0432\u0432\u043e\u0434\u0438\u0442 \u0434\u0432\u0430 \u0447\u0438\u0441\u043b\u0430 (\u043a\u0430\u0442\u0435\u0442\u044b <code>a</code> \u0438 <code>b</code>).</li> <li>\u041a\u043b\u0438\u0435\u043d\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0443.</li> <li>\u0421\u0435\u0440\u0432\u0435\u0440 \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u0442 \u0433\u0438\u043f\u043e\u0442\u0435\u043d\u0443\u0437\u0443 \u043f\u043e \u0444\u043e\u0440\u043c\u0443\u043b\u0435 <code>\u221a(a\u00b2 + b\u00b2)</code> \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043e\u0431\u0440\u0430\u0442\u043d\u043e.</li> <li>\u041a\u043b\u0438\u0435\u043d\u0442 \u0432\u044b\u0432\u043e\u0434\u0438\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043d\u0430 \u044d\u043a\u0440\u0430\u043d.</li> </ol>"},{"location":"#_11","title":"\u0417\u0430\u043f\u0443\u0441\u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0430","text":""},{"location":"#1_2","title":"\u0428\u0430\u0433 1: \u0417\u0430\u043f\u0443\u0441\u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0430","text":"<p>\u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b \u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435:</p> <pre><code>cd Task2\npython3 server.py\n</code></pre> <p>\u0412\u044b\u0432\u043e\u0434 \u0431\u0443\u0434\u0435\u0442 \u0442\u0430\u043a\u0438\u043c</p> <pre><code>TCP \u0441\u0435\u0440\u0432\u0435\u0440 \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u043d\u0430 localhost:9091, \u043e\u0436\u0438\u0434\u0430\u0435\u043c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f...\n</code></pre>"},{"location":"#2_2","title":"\u0428\u0430\u0433 2: \u0417\u0430\u043f\u0443\u0441\u043a \u043a\u043b\u0438\u0435\u043d\u0442\u0430","text":"<p>\u0412 \u0434\u0440\u0443\u0433\u043e\u043c \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435:</p> <pre><code>python3 client.py\n</code></pre> <p>\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0442\u044b. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440:</p> <pre><code>\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0442 a: 3\n\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0442 b: 4\n</code></pre>"},{"location":"#3","title":"\u0428\u0430\u0433 3: \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442","text":"<ul> <li>\u0412 \u043a\u043e\u043d\u0441\u043e\u043b\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430:</li> </ul> <pre><code>\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443 localhost:9091\n\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440: 3 4\n\u041e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: \u0413\u0438\u043f\u043e\u0442\u0435\u043d\u0443\u0437\u0430: 5.00\n\u041a\u043b\u0438\u0435\u043d\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b \u0440\u0430\u0431\u043e\u0442\u0443\n</code></pre> <ul> <li>\u0412 \u043a\u043e\u043d\u0441\u043e\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430:</li> </ul> <pre><code>\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043e\u0442 ('127.0.0.1', 49485)\n\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u043e\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0430: 3 4\n\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0443: \u0413\u0438\u043f\u043e\u0442\u0435\u043d\u0443\u0437\u0430: 5.00\n\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 ('127.0.0.1', 49485) \u0437\u0430\u043a\u0440\u044b\u0442\u043e\n</code></pre>"},{"location":"#_12","title":"\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","text":"<p>\u0414\u043b\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 Ctrl+C \u0432 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435. \u041a\u043b\u0438\u0435\u043d\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0430\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u043e\u0441\u043b\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043e\u0442\u0432\u0435\u0442\u0430.</p>"},{"location":"#_13","title":"\u041a\u043e\u0434:","text":"<p>server.py</p> <pre><code>import socket\nimport math\n\nHOST = 'localhost'\nPORT = 9091\n\n\ndef handle_client(conn, addr):\n    \"\"\"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430.\"\"\"\n    print(f\"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043e\u0442 {addr}\")\n    try:\n        # \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\n        data = conn.recv(1024).decode('utf-8')\n        print(f\"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u043e\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0430: {data}\")\n\n        # \u041e\u0436\u0438\u0434\u0430\u0435\u043c, \u0447\u0442\u043e \u043a\u043b\u0438\u0435\u043d\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442 \u0434\u0432\u0430 \u0447\u0438\u0441\u043b\u0430\n        parts = data.strip().split()\n        if len(parts) != 2:\n            response = \"\u041e\u0448\u0438\u0431\u043a\u0430: \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0432\u0430 \u0447\u0438\u0441\u043b\u0430 (\u043a\u0430\u0442\u0435\u0442\u044b a \u0438 b)\"\n        else:\n            a, b = map(float, parts)\n            c = math.sqrt(a ** 2 + b ** 2)\n            response = f\"\u0413\u0438\u043f\u043e\u0442\u0435\u043d\u0443\u0437\u0430: {c:.2f}\"\n\n        # \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0443\n        conn.sendall(response.encode('utf-8'))\n        print(f\"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0443: {response}\")\n\n    except Exception as e:\n        print(f\"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 {addr}: {e}\")\n    finally:\n        conn.close()\n        print(f\"\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 {addr} \u0437\u0430\u043a\u0440\u044b\u0442\u043e\")\n\n\ndef start_server():\n    \"\"\"\u0417\u0430\u043f\u0443\u0441\u043a TCP-\u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0434\u043b\u044f \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0433\u0438\u043f\u043e\u0442\u0435\u043d\u0443\u0437\u044b.\"\"\"\n    server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n    server_socket.bind((HOST, PORT))\n    server_socket.listen(5)\n    print(f\"TCP \u0441\u0435\u0440\u0432\u0435\u0440 \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u043d\u0430 {HOST}:{PORT}, \u043e\u0436\u0438\u0434\u0430\u0435\u043c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f...\")\n\n    try:\n        while True:\n            conn, addr = server_socket.accept()\n            handle_client(conn, addr)\n    except KeyboardInterrupt:\n        print(\"\\n\u0421\u0435\u0440\u0432\u0435\u0440 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c\")\n    finally:\n        server_socket.close()\n\n\nif __name__ == \"__main__\":\n    start_server()\n\n</code></pre> <p>client.py</p> <pre><code>import socket\n\nHOST = 'localhost'\nPORT = 9091\n\n\ndef run_client():\n    # \u0421\u043e\u0437\u0434\u0430\u0451\u043c TCP-\u0441\u043e\u043a\u0435\u0442\n    client_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n\n    try:\n        # \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0441\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443\n        client_socket.connect((HOST, PORT))\n        print(f\"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443 {HOST}:{PORT}\")\n\n        # \u0412\u0432\u043e\u0434 \u043a\u0430\u0442\u0435\u0442\u043e\u0432\n        a = input(\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0442 a: \")\n        b = input(\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0442 b: \")\n\n        # \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0443\n        message = f\"{a} {b}\"\n        client_socket.sendall(message.encode('utf-8'))\n        print(f\"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440: {message}\")\n\n        # \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043e\u0442\u0432\u0435\u0442\n        response = client_socket.recv(1024).decode('utf-8')\n        print(f\"\u041e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: {response}\")\n\n    except Exception as e:\n        print(f\"\u041e\u0448\u0438\u0431\u043a\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0430: {e}\")\n    finally:\n        client_socket.close()\n        print(\"\u041a\u043b\u0438\u0435\u043d\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b \u0440\u0430\u0431\u043e\u0442\u0443\")\n\n\nif __name__ == \"__main__\":\n    run_client()\n\n</code></pre>"},{"location":"#3_1","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.","text":""},{"location":"#_14","title":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","text":"<p>\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043d\u0430 Python. \u041a\u043b\u0438\u0435\u043d\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443, \u0438 \u0432 \u043e\u0442\u0432\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 HTTP-\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0435\u0435 HTML-\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 <code>index.html</code>.</p>"},{"location":"#_15","title":"\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f","text":"<ul> <li>Python 3.6+</li> <li>\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438:</li> <li><code>socket</code></li> <li><code>os</code></li> <li><code>mimetypes</code></li> </ul>"},{"location":"#_16","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<ul> <li><code>server.py</code> \u2014 \u043a\u043e\u0434 HTTP-\u0441\u0435\u0440\u0432\u0435\u0440\u0430</li> <li><code>index.html</code> \u2014 HTML-\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043e\u0442\u0434\u0430\u0432\u0430\u0435\u043c\u0430\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c</li> </ul>"},{"location":"#_17","title":"\u041a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440","text":"<ol> <li>\u0421\u043e\u0437\u0434\u0430\u0451\u0442\u0441\u044f TCP-\u0441\u043e\u043a\u0435\u0442 \u0438 \u043f\u0440\u0438\u0432\u044f\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043a \u0430\u0434\u0440\u0435\u0441\u0443 <code>localhost:9093</code>.</li> <li>\u0421\u0435\u0440\u0432\u0435\u0440 \u0436\u0434\u0451\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432.</li> <li>\u041f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 HTTP-\u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0441\u0435\u0440\u0432\u0435\u0440:</li> <li>\u0440\u0430\u0437\u0431\u0438\u0440\u0430\u0435\u0442 \u043c\u0435\u0442\u043e\u0434 \u0438 \u043f\u0443\u0442\u044c;</li> <li>\u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043c\u0435\u0442\u043e\u0434 GET;</li> <li>\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043e\u0442\u0434\u0430\u0451\u0442 <code>index.html</code>;</li> <li>\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 MIME-\u0442\u0438\u043f \u0444\u0430\u0439\u043b\u0430;</li> <li>\u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 HTTP-\u043e\u0442\u0432\u0435\u0442 \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0443.</li> <li>\u041f\u0440\u0438 \u043e\u0448\u0438\u0431\u043a\u0430\u0445 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044e\u0442\u0441\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u043a\u043e\u0434\u0430\u043c\u0438:</li> <li>404 Not Found \u2014 \u0444\u0430\u0439\u043b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d;</li> <li>405 Method Not Allowed \u2014 \u0435\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 GET;</li> <li>500 Internal Server Error \u2014 \u043f\u0440\u0438 \u0441\u0431\u043e\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438.</li> </ol>"},{"location":"#_18","title":"\u0417\u0430\u043f\u0443\u0441\u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0430","text":""},{"location":"#1-http-","title":"\u0428\u0430\u0433 1: \u0417\u0430\u043f\u0443\u0441\u043a HTTP-\u0441\u0435\u0440\u0432\u0435\u0440\u0430","text":"<p>\u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b \u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435:</p> <pre><code>cd Task3\npython3 server.py\n</code></pre> <p>\u0421\u0435\u0440\u0432\u0435\u0440 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0441\u044f \u043d\u0430 localhost:8082 \u0438 \u0431\u0443\u0434\u0435\u0442 \u043e\u0436\u0438\u0434\u0430\u0442\u044c HTTP-\u0437\u0430\u043f\u0440\u043e\u0441\u044b.</p>"},{"location":"#2_3","title":"\u0428\u0430\u0433 2: \u041e\u0442\u043a\u0440\u044b\u0442\u0438\u0435 \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435","text":"<p>\u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u0438 \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443:</p> <pre><code>http://localhost:8082\n</code></pre> <p>\u0412\u044b \u0443\u0432\u0438\u0434\u0438\u0442\u0435 \u043a\u0440\u0430\u0441\u0438\u0432\u0443\u044e HTML-\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0441 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439 \u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e\u043c \u0437\u0430\u0434\u0430\u043d\u0438\u0438.</p> <p>\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430</p> <p>\u0414\u043b\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 Ctrl+C \u0432 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435.</p>"},{"location":"#_19","title":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a","text":""},{"location":"#404-not-found","title":"404 Not Found","text":"<p>\u0415\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u0444\u0430\u0439\u043b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d, \u0441\u0435\u0440\u0432\u0435\u0440 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0441 \u043e\u0448\u0438\u0431\u043a\u043e\u0439 404.</p>"},{"location":"#500-internal-server-error","title":"500 Internal Server Error","text":"<p>\u041f\u0440\u0438 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0445 \u043e\u0448\u0438\u0431\u043a\u0430\u0445 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441 \u043e\u0448\u0438\u0431\u043a\u043e\u0439 500.</p>"},{"location":"#405-method-not-allowed","title":"405 Method Not Allowed","text":"<p>\u0421\u0435\u0440\u0432\u0435\u0440 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e GET-\u0437\u0430\u043f\u0440\u043e\u0441\u044b.</p>"},{"location":"#_20","title":"\u041a\u043e\u0434:","text":"<p>server.py</p> <pre><code>import socket\nimport mimetypes\n\nHOST = 'localhost'\nPORT = 9093\n\n\ndef get_file_content(filename):\n    try:\n        with open(filename, 'rb') as file:\n            return file.read()\n    except FileNotFoundError:\n        return None\n    except Exception as e:\n        print(f\"\u041e\u0448\u0438\u0431\u043a\u0430 \u0447\u0442\u0435\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430 {filename}: {e}\")\n        return None\n\n\ndef get_content_type(filename):\n    \"\"\"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 MIME-\u0442\u0438\u043f\u0430 \u0444\u0430\u0439\u043b\u0430\"\"\"\n    mime_type, _ = mimetypes.guess_type(filename)\n    return mime_type if mime_type else 'text/plain'\n\ndef create_http_response(status_code, content_type, content):\n    \"\"\"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 HTTP-\u043e\u0442\u0432\u0435\u0442\u0430\"\"\"\n    status_messages = {\n        200: \"OK\",\n        404: \"Not Found\",\n        500: \"Internal Server Error\"\n    }\n\n    status_line = f\"HTTP/1.1 {status_code} {status_messages.get(status_code, 'Unknown')}\"\n    headers = [\n        f\"Content-Type: {content_type}; charset=UTF-8\",\n        f\"Content-Length: {len(content)}\",\n        \"Connection: close\",\n        \"Server: Python-HTTP-Server/1.0\"\n    ]\n\n    response = f\"{status_line}\\r\\n\"\n    response += \"\\r\\n\".join(headers)\n    response += \"\\r\\n\\r\\n\"\n\n    return response.encode('utf-8') + content\n\n\ndef handle_request(request_data):\n    \"\"\"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 HTTP-\u0437\u0430\u043f\u0440\u043e\u0441\u0430\"\"\"\n    try:\n        lines = request_data.decode('utf-8').split('\\n')\n        if not lines:\n            return create_http_response(400, 'text/plain', b'Bad Request')\n\n        request_line = lines[0].strip()\n        parts = request_line.split()\n\n        if len(parts) &lt; 2:\n            return create_http_response(400, 'text/plain', b'Bad Request')\n\n        method = parts[0]\n        path = parts[1]\n\n        print(f\"\u0417\u0430\u043f\u0440\u043e\u0441: {method} {path}\")\n\n        # \u041e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u043c \u0442\u043e\u043b\u044c\u043a\u043e GET \u0437\u0430\u043f\u0440\u043e\u0441\u044b\n        if method != 'GET':\n            return create_http_response(405, 'text/plain', b'Method Not Allowed')\n\n        # \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043e\u0442\u0434\u0430\u0435\u043c index.html\n        if path == '/' or path == '/index.html':\n            filename = 'index.html'\n        else:\n            filename = path.lstrip('/')\n\n        # \u0427\u0438\u0442\u0430\u0435\u043c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u0444\u0430\u0439\u043b\u0430\n        content = get_file_content(filename)\n\n        if content is None:\n            # \u0424\u0430\u0439\u043b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\n            error_content = \"\"\"\n            &lt;html&gt;\n            &lt;head&gt;&lt;title&gt;404 Not Found&lt;/title&gt;&lt;/head&gt;\n            &lt;body&gt;\n                &lt;h1&gt;404 - \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430&lt;/h1&gt;\n                &lt;p&gt;\u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u0444\u0430\u0439\u043b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435.&lt;/p&gt;\n                &lt;a href=\"/\"&gt;\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e&lt;/a&gt;\n            &lt;/body&gt;\n            &lt;/html&gt;\n            \"\"\".encode('utf-8')\n            return create_http_response(404, 'text/html', error_content)\n\n        # \u041e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c MIME-\u0442\u0438\u043f\n        content_type = get_content_type(filename)\n\n        # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442\n        return create_http_response(200, content_type, content)\n\n    except Exception as e:\n        print(f\"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430: {e}\")\n        error_content = \"\"\"\n        &lt;html&gt;\n        &lt;head&gt;&lt;title&gt;500 Internal Server Error&lt;/title&gt;&lt;/head&gt;\n        &lt;body&gt;\n            &lt;h1&gt;500 - \u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430&lt;/h1&gt;\n            &lt;p&gt;\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430.&lt;/p&gt;\n        &lt;/body&gt;\n        &lt;/html&gt;\n        \"\"\".encode('utf-8')\n        return create_http_response(500, 'text/html', error_content)\n\n\ndef main():\n    \"\"\"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u0430\"\"\"\n    # \u0421\u043e\u0437\u0434\u0430\u0435\u043c TCP \u0441\u043e\u043a\u0435\u0442\n    server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n\n    # \u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u043c \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441\n    server_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\n\n    try:\n        # \u041f\u0440\u0438\u0432\u044f\u0437\u044b\u0432\u0430\u0435\u043c \u0441\u043e\u043a\u0435\u0442 \u043a \u0430\u0434\u0440\u0435\u0441\u0443 \u0438 \u043f\u043e\u0440\u0442\u0443\n        server_socket.bind((HOST, PORT))\n\n        # \u041d\u0430\u0447\u0438\u043d\u0430\u0435\u043c \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f\n        server_socket.listen(5)\n        print(f\"HTTP \u0441\u0435\u0440\u0432\u0435\u0440 \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u043d\u0430 {HOST}:{PORT}\")\n        print(\"\u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u0438 \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443: http://localhost:9093\")\n        print(\"\u0414\u043b\u044f \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 Ctrl+C\")\n\n        while True:\n            # \u041f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u043c \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u043e\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\n            client_connection, client_address = server_socket.accept()\n            print(f'\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043e\u0442 {client_address}')\n\n            try:\n                # \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c HTTP-\u0437\u0430\u043f\u0440\u043e\u0441\n                request_data = client_connection.recv(4096)\n\n                if request_data:\n                    # \u041e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u043c \u0437\u0430\u043f\u0440\u043e\u0441 \u0438 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043e\u0442\u0432\u0435\u0442\n                    response = handle_request(request_data)\n\n                    # \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u043e\u0442\u0432\u0435\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0443\n                    client_connection.sendall(response)\n                    print(f'\u041e\u0442\u0432\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043a\u043b\u0438\u0435\u043d\u0442\u0443 {client_address}')\n\n            except Exception as e:\n                print(f\"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 {client_address}: {e}\")\n            finally:\n                # \u0417\u0430\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\n                client_connection.close()\n\n    except KeyboardInterrupt:\n        print(\"\\n\u0421\u0435\u0440\u0432\u0435\u0440 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c\")\n    except Exception as e:\n        print(f\"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: {e}\")\n    finally:\n        # \u0417\u0430\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u0441\u043e\u043a\u0435\u0442\n        server_socket.close()\n        print(\"\u0421\u0435\u0440\u0432\u0435\u0440 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b \u0440\u0430\u0431\u043e\u0442\u0443\")\n\n\nif __name__ == \"__main__\":\n    main()\n\n</code></pre> <p>index.html</p> <pre><code>&lt;!doctype html&gt;\n&lt;html lang=\"ru\"&gt;\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;title&gt;Web-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u2014 \u041b\u04201, \u0417\u0430\u0434\u0430\u043d\u0438\u0435 3&lt;/title&gt;\n  &lt;style&gt;\n    body {\n      font-family: Arial, sans-serif;\n      margin: 0;\n      padding: 2rem;\n      background: #121212;\n      color: #f0f0f0;\n      text-align: center;\n      line-height: 1.6;\n    }\n    h1 {\n      font-size: 1.6rem;\n      margin-bottom: 1rem;\n    }\n    p {\n      margin: 0.5rem 0;\n    }\n    footer {\n      margin-top: 3rem;\n    }\n    footer img {\n      display: block;\n      margin: 0 auto;\n      max-width: 200px;\n      height: auto;\n    }\n  &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;h1&gt;Web-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435&lt;/h1&gt;\n  &lt;p&gt;\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 1&lt;/p&gt;\n  &lt;p&gt;\u0417\u0430\u0434\u0430\u043d\u0438\u0435 3&lt;/p&gt;\n  &lt;p&gt;&lt;strong&gt;\u041c\u043e\u0439 Python-\u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u0435\u0440\u0435\u0434\u0430\u0451\u0442 \u043f\u0440\u0438\u0432\u0435\u0442!&lt;/strong&gt;&lt;/p&gt;\n  &lt;p&gt;\u042d\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0431\u044b\u043b\u0430 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u0430 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0441\u043e\u043a\u0435\u0442\u043e\u0432.&lt;/p&gt;\n\n&lt;footer&gt;\n    &lt;img src=\"/img/2.png\" alt=\"\u041a\u043e\u0442\u0438\u043a \u043f\u0438\u0448\u0435\u0442 \u043a\u043e\u0434\"&gt;\n    &lt;p class=\"greeting\"&gt;\u0425\u043e\u0440\u043e\u0448\u0435\u0433\u043e \u0434\u043d\u044f!&lt;/p&gt;\n  &lt;/footer&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"#4","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 4","text":""},{"location":"#_21","title":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","text":"<p>\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u044b \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u0438 \u043c\u043d\u043e\u0433\u043e\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0447\u0430\u0442\u0430 \u043d\u0430 Python \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 socket \u0438 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430 TCP. \u0414\u043b\u044f \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f threading.</p> <ul> <li>\u041a\u0430\u0436\u0434\u044b\u0439 \u043a\u043b\u0438\u0435\u043d\u0442 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u0441\u0432\u043e\u0439 \u043d\u0438\u043a\u043d\u0435\u0439\u043c.</li> <li>\u0412\u0441\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0440\u0430\u0441\u0441\u044b\u043b\u0430\u044e\u0442\u0441\u044f \u0432\u0441\u0435\u043c \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u043c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430\u043c.</li> <li>\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u0432\u044b\u0445\u043e\u0434\u0430: <code>/quit</code>.</li> </ul>"},{"location":"#_22","title":"\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f","text":"<ul> <li>Python 3.6+</li> <li>\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438:</li> <li><code>socket</code></li> <li><code>threading</code></li> </ul>"},{"location":"#_23","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<ul> <li><code>server.py</code> \u2014 TCP-\u0441\u0435\u0440\u0432\u0435\u0440: \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f, \u0445\u0440\u0430\u043d\u0438\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432, \u0440\u0430\u0441\u0441\u044b\u043b\u0430\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f.</li> <li><code>client.py</code> \u2014 TCP-\u043a\u043b\u0438\u0435\u043d\u0442: \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0438 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0443 \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c \u043f\u043e\u0442\u043e\u043a\u0435.</li> </ul>"},{"location":"#_24","title":"\u041a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430","text":"<ol> <li>\u0421\u0435\u0440\u0432\u0435\u0440 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 TCP-\u0441\u043e\u043a\u0435\u0442 \u0438 \u0441\u043b\u0443\u0448\u0430\u0435\u0442 <code>127.0.0.1:9094</code>.</li> <li>\u041a\u043b\u0438\u0435\u043d\u0442 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443, \u0432\u0432\u043e\u0434\u0438\u0442 \u043d\u0438\u043a \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0435\u0433\u043e \u043f\u0435\u0440\u0432\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u043e\u0439.</li> <li>\u0421\u0435\u0440\u0432\u0435\u0440 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442 \u0441\u043e\u043a\u0435\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0438 \u043d\u0438\u043a; \u043e\u043f\u043e\u0432\u0435\u0449\u0430\u0435\u0442 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u043e \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438.</li> <li>\u041b\u044e\u0431\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043f\u0435\u0440\u0435\u0441\u044b\u043b\u0430\u0435\u0442\u0441\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c \u0432\u0441\u0435\u043c \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u043c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430\u043c.</li> <li>\u041f\u0440\u0438 \u0432\u0432\u043e\u0434\u0435 <code>/quit</code> \u043a\u043b\u0438\u0435\u043d\u0442 \u043e\u0442\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f; \u0441\u0435\u0440\u0432\u0435\u0440 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u044f\u0435\u0442 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445.</li> </ol>"},{"location":"#_25","title":"\u0417\u0430\u043f\u0443\u0441\u043a","text":""},{"location":"#1_3","title":"\u0428\u0430\u0433 1: \u0417\u0430\u043f\u0443\u0441\u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0430","text":"<p>\u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b \u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435:</p> <pre><code>cd Task4\npython3 server.py\n</code></pre>"},{"location":"#2_4","title":"\u0428\u0430\u0433 2: \u0417\u0430\u043f\u0443\u0441\u043a \u043a\u043b\u0438\u0435\u043d\u0442\u0430","text":"<p>\u0412 \u0434\u0440\u0443\u0433\u043e\u043c \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435:</p> <pre><code>python3 client.py\n</code></pre>"},{"location":"#3_2","title":"\u0428\u0430\u0433 3: \u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u043a\u0443","text":"<p>\u041f\u0440\u0438\u043c\u0435\u0440:</p> <pre><code>\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0438\u043a: \u0410\u043d\u0430\u043d\u0430\u0441\n&gt; \u041f\u0440\u0438\u0432\u0435\u0442\n</code></pre>"},{"location":"#_26","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0440\u0430\u0431\u043e\u0442\u044b","text":"<p>\u041a\u043b\u0438\u0435\u043d\u0442 A</p> <pre><code>\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0438\u043a: \u0410\u043d\u0430\u043d\u0430\u0441\n&gt;\n[+] \u0410\u043d\u0430\u043d\u0430\u0441 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u043b\u0441\u044f\n&gt;\n[+] \u042f\u0431\u043b\u043e\u043a\u043e \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u043b\u0441\u044f\n&gt;\n[+] \u0413\u0440\u0443\u0448\u0430 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u043b\u0441\u044f\n&gt; \u041f\u0440\u0438\u0432\u0435\u0442\n&gt;\n\u042f\u0431\u043b\u043e\u043a\u043e: \u041f\u043e\u043a\u0430\n&gt;\n\u0413\u0440\u0443\u0448\u0430: \u043e\u043a\u0430\u043a\n&gt;\n</code></pre> <p>\u041a\u043b\u0438\u0435\u043d\u0442 B</p> <pre><code>\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0438\u043a: \u042f\u0431\u043b\u043e\u043a\u043e\n\n[+] \u042f\u0431\u043b\u043e\u043a\u043e \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u043b\u0441\u044f\n&gt; &gt;\n[+] \u0413\u0440\u0443\u0448\u0430 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u043b\u0441\u044f\n&gt;\n\u0410\u043d\u0430\u043d\u0430\u0441: \u041f\u0440\u0438\u0432\u0435\u0442\n&gt; \u041f\u043e\u043a\u0430\n&gt;\n\u0413\u0440\u0443\u0448\u0430: \u043e\u043a\u0430\u043a\n&gt;\n</code></pre> <p>\u041a\u043b\u0438\u0435\u043d\u0442 C</p> <pre><code>\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0438\u043a: \u0413\u0440\u0443\u0448\u0430\n&gt;\n[+] \u0413\u0440\u0443\u0448\u0430 \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u043b\u0441\u044f\n&gt;\n\u0410\u043d\u0430\u043d\u0430\u0441: \u041f\u0440\u0438\u0432\u0435\u0442\n&gt;\n\u042f\u0431\u043b\u043e\u043a\u043e: \u041f\u043e\u043a\u0430\n&gt; \u043e\u043a\u0430\u043a\n&gt;\n</code></pre> <p>\u0421\u0435\u0440\u0432\u0435\u0440</p> <pre><code>('127.0.0.1', 63575) -&gt; \u0410\u043d\u0430\u043d\u0430\u0441\n('127.0.0.1', 63629) -&gt; \u042f\u0431\u043b\u043e\u043a\u043e\n('127.0.0.1', 63708) -&gt; \u0413\u0440\u0443\u0448\u0430\n</code></pre>"},{"location":"#_27","title":"\u041a\u043e\u0434:","text":"<p>server.py</p> <pre><code>import socket\nimport threading\n\nHOST = \"127.0.0.1\"\nPORT = 9094\n\nclients = []\nnicknames = {}\nlock = threading.Lock()\n\n\ndef broadcast(text, sender=None):\n    \"\"\"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432\u0441\u0435\u043c \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u043c.\"\"\"\n    dead = []\n    with lock:\n        for sock in clients:\n            if sender is not None and sock is sender:\n                continue\n            try:\n                sock.sendall((text + \"\\n\").encode(\"utf-8\"))\n            except OSError:\n                dead.append(sock)\n        for s in dead:\n            if s in clients:\n                clients.remove(s)\n            nicknames.pop(s, None)\n            try:\n                s.close()\n            except OSError:\n                pass\n\n\ndef handle_client(sock, addr):\n    \"\"\"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0434\u043d\u043e\u0433\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c \u043f\u043e\u0442\u043e\u043a\u0435.\"\"\"\n    try:\n        # \u043f\u0435\u0440\u0432\u0430\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u2014 \u043d\u0438\u043a\n        raw = sock.recv(1024)\n        nickname = raw.decode(\"utf-8\").strip() if raw else \"\"\n        if not nickname:\n            nickname = f\"user_{addr[1]}\"\n\n        with lock:\n            clients.append(sock)\n            nicknames[sock] = nickname\n\n        broadcast(f\"[+] {nickname} \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u043b\u0441\u044f\")\n        print(f\"{addr} -&gt; {nickname}\")\n\n        while True:\n            data = sock.recv(4096)\n            if not data:\n                break\n            msg = data.decode(\"utf-8\").rstrip(\"\\r\\n\")\n            if msg.lower() == \"/quit\":\n                break\n            broadcast(f\"{nickname}: {msg}\", sender=sock)\n    except OSError:\n        pass\n    finally:\n        with lock:\n            if sock in clients:\n                clients.remove(sock)\n            name = nicknames.pop(sock, \"unknown\")\n        broadcast(f\"[-] {name} \u0432\u044b\u0448\u0435\u043b\")\n        try:\n            sock.close()\n        except OSError:\n            pass\n        print(f\"{addr} disconnected\")\n\n\ndef main():\n    server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n    server.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\n    server.bind((HOST, PORT))\n    server.listen(10)\n    print(f\"\u0421\u0435\u0440\u0432\u0435\u0440: {HOST}:{PORT}\")\n\n    try:\n        while True:\n            client_sock, client_addr = server.accept()\n            threading.Thread(\n                target=handle_client, args=(client_sock, client_addr), daemon=True\n            ).start()\n    except KeyboardInterrupt:\n        print(\"\\n\u0421\u0442\u043e\u043f\")\n    finally:\n        with lock:\n            for s in clients:\n                try:\n                    s.close()\n                except OSError:\n                    pass\n            clients.clear()\n            nicknames.clear()\n        server.close()\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre> <p>client.py</p> <pre><code>import socket\nimport threading\n\nHOST = \"127.0.0.1\"\nPORT = 9094\n\nprint_lock = threading.Lock()\n\n\ndef receiver(sock: socket.socket) -&gt; None:\n    \"\"\"\u0427\u0438\u0442\u0430\u0435\u0442 \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0438 \u043f\u0435\u0447\u0430\u0442\u0430\u0435\u0442 \u0438\u0445 \u0441 \u043d\u043e\u0432\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438.\"\"\"\n    try:\n        while True:\n            data = sock.recv(4096)\n            if not data:\n                with print_lock:\n                    print(\"\\n[\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c]\")\n                break\n            text = data.decode(\"utf-8\")\n            with print_lock:\n                # \u043f\u0435\u0447\u0430\u0442\u0430\u0435\u043c \u0432\u0445\u043e\u0434\u044f\u0449\u0435\u0435 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\n                print(f\"\\n{text}\", end=\"\")\n                print(\"&gt; \", end=\"\", flush=True)\n    except OSError:\n        pass\n    finally:\n        try:\n            sock.close()\n        except OSError:\n            pass\n\n\ndef main() -&gt; None:\n    nickname = input(\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0438\u043a: \").strip() or \"user\"\n\n    sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n    sock.connect((HOST, PORT))\n\n    # \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u0438\u043a \u043f\u0435\u0440\u0432\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u043e\u0439\n    sock.sendall((nickname + \"\\n\").encode(\"utf-8\"))\n\n    # \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u043f\u043e\u0442\u043e\u043a-\u043f\u0440\u0438\u0451\u043c\u043d\u0438\u043a\n    threading.Thread(target=receiver, args=(sock,), daemon=True).start()\n\n    #\u0427\u0442\u043e\u0431\u044b \u0431\u044b\u043b\u043e \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0447\u0430\u0442\u044c \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439\n    with print_lock:\n        print(\"&gt; \", end=\"\", flush=True)\n\n    try:\n        while True:\n            msg = input()\n            if msg.strip().lower() == \"/quit\":\n                sock.sendall(b\"/quit\\n\")\n                break\n            sock.sendall((msg + \"\\n\").encode(\"utf-8\"))\n            with print_lock:\n                print(\"&gt; \", end=\"\", flush=True)\n    except KeyboardInterrupt:\n        pass\n    finally:\n        try:\n            sock.close()\n        except OSError:\n            pass\n        with print_lock:\n            print(\"\\n\u041a\u043b\u0438\u0435\u043d\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b \u0440\u0430\u0431\u043e\u0442\u0443\")\n\n\nif __name__ == \"__main__\":\n    main()\n\n</code></pre>"},{"location":"#5","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 5","text":""},{"location":"#_28","title":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","text":"<p>\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043d\u0430 Python c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c <code>socket</code>. \u041a\u043b\u0438\u0435\u043d\u0442 \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0436\u0443\u0440\u043d\u0430\u043b\u0430 <code>index.html</code>. \u0421\u0435\u0440\u0432\u0435\u0440 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043e\u0446\u0435\u043d\u043a\u0438 \u0447\u0435\u0440\u0435\u0437 POST, \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442 \u0438\u0445 \u0432 <code>grades.json</code> \u0438 \u043d\u0430 GET \u043e\u0442\u0434\u0430\u0451\u0442 HTML-\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0441\u043e \u0441\u0432\u043e\u0434\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u0435\u0439 (\u043e\u0434\u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0430 \u043d\u0430 \u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u0443, \u0432 \u044f\u0447\u0435\u0439\u043a\u0435 \u2014 \u0441\u043f\u0438\u0441\u043e\u043a \u0435\u0451 \u043e\u0446\u0435\u043d\u043e\u043a).</p>"},{"location":"#_29","title":"\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f","text":"<ul> <li>Python 3.7+</li> <li> <p>\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438:</p> </li> <li> <p><code>socket</code></p> </li> <li><code>urllib.parse</code></li> <li><code>json</code></li> <li><code>os</code></li> </ul>"},{"location":"#_30","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<ul> <li><code>server.py</code> \u2014 HTTP-\u0441\u0435\u0440\u0432\u0435\u0440 (\u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 <code>GET /</code> \u0438 <code>POST /add</code>)</li> <li><code>data_store.py</code> \u2014 \u043f\u0440\u043e\u0441\u0442\u043e\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 (\u0447\u0442\u0435\u043d\u0438\u0435/\u0437\u0430\u043f\u0438\u0441\u044c <code>grades.json</code>)</li> <li><code>index.html</code> \u2014 HTML-\u0448\u0430\u0431\u043b\u043e\u043d \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0436\u0443\u0440\u043d\u0430\u043b\u0430</li> <li><code>grades.json</code> \u2014 \u0444\u0430\u0439\u043b \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 (\u0441\u043e\u0437\u0434\u0430\u0451\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u0438 \u043f\u0435\u0440\u0432\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438)</li> </ul>"},{"location":"#_31","title":"\u041a\u043e\u0434\u044b \u043e\u0442\u0432\u0435\u0442\u043e\u0432:","text":"<ul> <li>200 OK \u2014 \u0443\u0441\u043f\u0435\u0448\u043d\u0430\u044f \u0432\u044b\u0434\u0430\u0447\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b,</li> <li>303 See Other \u2014 \u043f\u043e\u0441\u043b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e <code>POST</code>,</li> <li>400 Bad Request \u2014 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u0430,</li> <li>404 Not Found \u2014 \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u043f\u0443\u0442\u044c,</li> <li>405 Method Not Allowed \u2014 \u043c\u0435\u0442\u043e\u0434\u044b, \u043a\u0440\u043e\u043c\u0435 GET/POST.</li> </ul>"},{"location":"#_32","title":"\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f","text":"<p>\u0412 <code>index.html</code> \u0435\u0441\u0442\u044c JavaScript-\u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430: \u043f\u0440\u0438 \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u0439 \u043e\u0446\u0435\u043d\u043a\u0435 \u043a\u043d\u043e\u043f\u043a\u0430 \u00ab\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u00bb \u0437\u0430\u0433\u043e\u0440\u0430\u0435\u0442\u0441\u044f \u043a\u0440\u0430\u0441\u043d\u044b\u043c, \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0430 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430, \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0444\u043e\u0440\u043c\u044b \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u0442\u0441\u044f. \u0421\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043e\u0441\u0442\u0430\u0451\u0442\u0441\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0439 (\u043d\u0430 \u0441\u043b\u0443\u0447\u0430\u0439 \u043e\u0431\u0445\u043e\u0434\u0430 \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0430).</p>"},{"location":"#_33","title":"\u0417\u0430\u043f\u0443\u0441\u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0430","text":""},{"location":"#1_4","title":"\u0428\u0430\u0433 1: \u0437\u0430\u043f\u0443\u0441\u043a","text":"<p>\u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b \u0432 \u043f\u0430\u043f\u043a\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435:</p> <pre><code>python server.py\n</code></pre>"},{"location":"#2_5","title":"\u0428\u0430\u0433 2: \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435","text":"<p>\u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443:</p> <pre><code>http://127.0.0.1:8080\n</code></pre> <p>\u0412\u044b \u0443\u0432\u0438\u0434\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u00ab\u0416\u0443\u0440\u043d\u0430\u043b \u043e\u0446\u0435\u043d\u043e\u043a\u00bb \u0441 \u0444\u043e\u0440\u043c\u043e\u0439 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u0435\u0439.</p> <p>\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430: <code>Ctrl + C</code> \u0432 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435.</p>"},{"location":"#_34","title":"\u0424\u043e\u0440\u043c\u0430\u0442 \u0434\u0430\u043d\u043d\u044b\u0445","text":"<p>\u0424\u0430\u0439\u043b <code>grades.json</code> \u0445\u0440\u0430\u043d\u0438\u0442 \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u00ab\u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u0430 \u2192 \u0441\u043f\u0438\u0441\u043e\u043a \u043e\u0446\u0435\u043d\u043e\u043a\u00bb, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440:</p> <pre><code>{\n  \"\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430\": [\"5\", \"4\"],\n  \"\u0424\u0438\u0437\u0438\u043a\u0430\": [\"0,01\"]\n}\n</code></pre>"},{"location":"#_35","title":"\u041a\u043e\u0434:","text":"<p>data_store.py</p> <pre><code>\"\"\"\n\u0424\u043e\u0440\u043c\u0430\u0442 \u0444\u0430\u0439\u043b\u0430 grades.json:\n{\n  \"\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430\": [\"5\", \"4\"],\n  \"\u0424\u0438\u0437\u0438\u043a\u0430\": [\"0,01\"]\n}\n\"\"\"\n\nimport json\nimport os\nfrom typing import Dict, List\n\nFILE_PATH = \"grades.json\"\n\n\ndef _load() -&gt; Dict[str, List[str]]:\n    \"\"\"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d \u0438 \u043e\u0446\u0435\u043d\u043e\u043a \u0438\u0437 JSON, \u0435\u0441\u043b\u0438 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435\u0442 \u2014 \u043f\u0443\u0441\u0442\u043e\u0439 \u0441\u043b\u043e\u0432\u0430\u0440\u044c.\"\"\"\n    if not os.path.exists(FILE_PATH):\n        return {}\n    try:\n        with open(FILE_PATH, \"r\", encoding=\"utf-8\") as f:\n            return json.load(f)\n    except (json.JSONDecodeError, OSError):\n        return {}\n\n\ndef _save(data: Dict[str, List[str]]) -&gt; None:\n    \"\"\"\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0432 JSON.\"\"\"\n    with open(FILE_PATH, \"w\", encoding=\"utf-8\") as f:\n        json.dump(data, f, ensure_ascii=False, indent=2)\n\n\ndef add_grade(discipline: str, grade: str) -&gt; None:\n    \"\"\"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043e\u0446\u0435\u043d\u043a\u0443 \u043a \u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u0435.\"\"\"\n    data = _load()\n    discipline = discipline.strip()\n    grade = grade.strip()\n    if not discipline or not grade:\n        return\n    data.setdefault(discipline, []).append(grade)\n    _save(data)\n\n\ndef get_all() -&gt; Dict[str, List[str]]:\n    \"\"\"\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c \u0432\u0435\u0441\u044c \u0436\u0443\u0440\u043d\u0430\u043b.\"\"\"\n    return _load()\n\n</code></pre>"},{"location":"#_36","title":"\u041a\u043e\u0434:","text":"<p>server.py</p> <pre><code>import socket\nimport urllib.parse\nfrom typing import Tuple, Dict\nimport data_store\n\nHOST = \"127.0.0.1\"\nPORT = 9095\n\n\ndef build_response(status: str, headers: Dict[str, str], body: str = \"\") -&gt; bytes:\n    \"\"\"\u0424\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u043c HTTP-\u043e\u0442\u0432\u0435\u0442.\"\"\"\n    body_bytes = body.encode(\"utf-8\")\n    headers = {\n        \"Content-Type\": \"text/html; charset=utf-8\",\n        \"Connection\": \"close\",\n        \"Content-Length\": str(len(body_bytes)),\n        **headers,\n    }\n    lines = [f\"HTTP/1.1 {status}\"] + [f\"{k}: {v}\" for k, v in headers.items()]\n    head = \"\\r\\n\".join(lines) + \"\\r\\n\\r\\n\"\n    return head.encode(\"utf-8\") + body_bytes\n\n\ndef parse_request(data: bytes) -&gt; Tuple[str, str, Dict[str, str], bytes]:\n    try:\n        head, body = data.split(b\"\\r\\n\\r\\n\", 1)\n    except ValueError:\n        return \"\", \"\", {}, b\"\"\n\n    lines = head.decode(\"iso-8859-1\").split(\"\\r\\n\")\n    if not lines or \" \" not in lines[0]:\n        return \"\", \"\", {}, b\"\"\n\n    method, path, *_ = lines[0].split(\" \")\n\n    headers: Dict[str, str] = {}\n    for line in lines[1:]:\n        if \":\" in line:\n            k, v = line.split(\":\", 1)\n            headers[k.strip().lower()] = v.strip()\n\n    return method, path, headers, body\n\n\ndef handle_get(path: str) -&gt; bytes:\n    \"\"\"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 GET-\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432.\"\"\"\n    if path == \"/\":\n        data = data_store.get_all()\n        disciplines = sorted(data.keys(), key=lambda s: s.lower())\n\n        # \u0424\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u043c \u0441\u0442\u0440\u043e\u043a\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b\n        rows = []\n        for d in disciplines:\n            grades = \"; \".join(escape_html(g) for g in data[d])\n            rows.append(f\"&lt;tr&gt;&lt;td&gt;{escape_html(d)}&lt;/td&gt;&lt;td&gt;{grades}&lt;/td&gt;&lt;/tr&gt;\")\n        rows_html = \"\\n\".join(rows) if rows else '&lt;tr&gt;&lt;td colspan=\"2\"&gt;\u041f\u043e\u043a\u0430 \u043f\u0443\u0441\u0442\u043e&lt;/td&gt;&lt;/tr&gt;'\n\n        # \u0427\u0438\u0442\u0430\u0435\u043c index.html\n        try:\n            with open(\"index.html\", \"r\", encoding=\"utf-8\") as f:\n                template = f.read()\n        except FileNotFoundError:\n            return build_response(\"500 Internal Server Error\", {}, \"index.html not found\")\n\n        html = template.replace(\"{{rows}}\", rows_html)\n        return build_response(\"200 OK\", {}, html)\n\n    return build_response(\"404 Not Found\", {}, \"Not Found\")\n\n\ndef _is_positive_number(text: str) -&gt; bool:\n    \"\"\"\n    \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 True, \u0435\u0441\u043b\u0438 \u0441\u0442\u0440\u043e\u043a\u0430 \u2014 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e &gt; 0.\n    \"\"\"\n    norm = text.replace(\",\", \".\")\n    try:\n        return float(norm) &gt; 0.0\n    except ValueError:\n        return False\n\n\ndef handle_post(path: str, headers: Dict[str, str], body: bytes) -&gt; bytes:\n    \"\"\"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 POST-\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432.\"\"\"\n    if path == \"/add\":\n        if \"application/x-www-form-urlencoded\" not in headers.get(\"content-type\", \"\"):\n            return build_response(\"400 Bad Request\", {}, \"Expected x-www-form-urlencoded\")\n\n        form = urllib.parse.parse_qs(body.decode(\"utf-8\"), keep_blank_values=True)\n        discipline = (form.get(\"discipline\", [\"\"])[0]).strip()\n        grade_raw = (form.get(\"grade\", [\"\"])[0]).strip()\n\n        # \u0421\u0435\u0440\u0432\u0435\u0440\u043d\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430: \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e &gt; 0 (\u0446\u0435\u043b\u043e\u0435 \u0438\u043b\u0438 \u0434\u0440\u043e\u0431\u043d\u043e\u0435, . \u0438\u043b\u0438 ,)\n        if discipline and _is_positive_number(grade_raw):\n            data_store.add_grade(discipline, grade_raw)\n\n        return build_response(\"303 See Other\", {\"Location\": \"/\"}, \"\")\n\n    return build_response(\"404 Not Found\", {}, \"Not Found\")\n\n\ndef escape_html(s: str) -&gt; str:\n    \"\"\"\u042d\u043a\u0440\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0435\u0446\u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0432 HTML.\"\"\"\n    return (\n        s.replace(\"&amp;\", \"&amp;amp;\")\n         .replace(\"&lt;\", \"&amp;lt;\")\n         .replace(\"&gt;\", \"&amp;gt;\")\n         .replace('\"', \"&amp;quot;\")\n         .replace(\"'\", \"&amp;#39;\")\n    )\n\n\ndef serve():\n    \"\"\"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u0446\u0438\u043a\u043b \u0441\u0435\u0440\u0432\u0435\u0440\u0430.\"\"\"\n    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as srv:\n        srv.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\n        srv.bind((HOST, PORT))\n        srv.listen(5)\n        print(f\"Server running at http://{HOST}:{PORT}\")\n\n        while True:\n            conn, _ = srv.accept()\n            with conn:\n                try:\n                    raw = conn.recv(65535)\n                    method, path, headers, body = parse_request(raw)\n                    length = int(headers.get(\"content-length\", \"0\"))\n                    while len(body) &lt; length:\n                        chunk = conn.recv(65535)\n                        if not chunk:\n                            break\n                        body += chunk\n                except (socket.timeout, ValueError, UnicodeDecodeError):\n                    conn.sendall(build_response(\"400 Bad Request\", {}, \"Bad Request\"))\n                    continue\n\n                if method == \"GET\":\n                    resp = handle_get(path)\n                elif method == \"POST\":\n                    resp = handle_post(path, headers, body)\n                else:\n                    resp = build_response(\"405 Method Not Allowed\", {\"Allow\": \"GET, POST\"}, \"Method Not Allowed\")\n\n                conn.sendall(resp)\n\n\nif __name__ == \"__main__\":\n    serve()\n\n</code></pre>"},{"location":"#_37","title":"\u041a\u043e\u0434:","text":"<p>index.html</p> <pre><code>&lt;!doctype html&gt;\n&lt;html lang=\"ru\"&gt;\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\"/&gt;\n  &lt;title&gt;\u0416\u0443\u0440\u043d\u0430\u043b&lt;/title&gt;\n  &lt;style&gt;\n    body {\n      font-family: Arial, sans-serif;\n      background-color: #f0f0f0;\n      margin: 0;\n      padding: 0;\n    }\n    .container {\n      max-width: 800px;\n      margin: 40px auto;\n      background: #fff;\n      padding: 24px;\n      border-radius: 8px;\n      box-shadow: 0 2px 6px rgba(0,0,0,0.1);\n    }\n    h1 {\n      margin-top: 0;\n      color: #333;\n    }\n    form {\n      margin: 20px 0;\n      display: grid;\n      grid-template-columns: 1fr 1fr auto;\n      gap: 10px;\n      align-items: center;\n    }\n    input, button {\n      padding: 10px;\n      font-size: 14px;\n    }\n    input {\n      border: 1px solid #ccc;\n      border-radius: 4px;\n    }\n    .btn {\n      background-color: #4a4a4a;\n      color: #fff;\n      border: none;\n      cursor: pointer;\n      border-radius: 4px;\n      transition: background 0.2s, transform 0.05s;\n    }\n    .btn:hover { background-color: #333; }\n    .btn:active { transform: translateY(1px); }\n    /* \u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043a\u0438: \u043a\u0440\u0430\u0441\u043d\u0430\u044f \u043a\u043d\u043e\u043f\u043a\u0430 */\n    .btn.error { background-color: #c62828; }\n    .hint {\n      grid-column: 1 / -1;\n      color: #a00;\n      font-size: 13px;\n      display: none;\n      margin-top: -6px;\n    }\n    .hint.show { display: block; }\n\n    table {\n      width: 100%;\n      border-collapse: collapse;\n      margin-top: 16px;\n    }\n    th, td {\n      border: 1px solid #ccc;\n      padding: 10px;\n      text-align: left;\n    }\n    th { background: #eee; }\n    tr:nth-child(even) { background: #fafafa; }\n  &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;div class=\"container\"&gt;\n    &lt;h1&gt;\u0416\u0443\u0440\u043d\u0430\u043b&lt;/h1&gt;\n\n    &lt;form id=\"grade-form\" method=\"POST\" action=\"/add\" novalidate&gt;\n      &lt;input id=\"discipline\" name=\"discipline\" placeholder=\"\u0414\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u0430\" required /&gt;\n      &lt;input id=\"grade\" name=\"grade\" placeholder=\"\u041e\u0446\u0435\u043d\u043a\u0430 (&gt; 0, \u043c\u043e\u0436\u043d\u043e \u0434\u0440\u043e\u0431\u043d\u0443\u044e)\" required /&gt;\n      &lt;button id=\"submitBtn\" class=\"btn\" type=\"submit\"&gt;\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c&lt;/button&gt;\n      &lt;div id=\"hint\" class=\"hint\"&gt;\n        \u041e\u0446\u0435\u043d\u043a\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c (\u0446\u0435\u043b\u044b\u043c \u0438\u043b\u0438 \u0434\u0440\u043e\u0431\u043d\u044b\u043c; \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c \u00ab.\u00bb \u0438\u043b\u0438 \u00ab,\u00bb).\n      &lt;/div&gt;\n    &lt;/form&gt;\n\n    &lt;table&gt;\n      &lt;tr&gt;&lt;th&gt;\u0414\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u0430&lt;/th&gt;&lt;th&gt;\u041e\u0446\u0435\u043d\u043a\u0438&lt;/th&gt;&lt;/tr&gt;\n      {{rows}}\n    &lt;/table&gt;\n  &lt;/div&gt;\n\n  &lt;script&gt;\n    // \u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f: \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e &gt; 0, \u0434\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0434\u0440\u043e\u0431\u043d\u044b\u0435 \u0441 . \u0438\u043b\u0438 ,\n    (function () {\n      const form = document.getElementById('grade-form');\n      const gradeInput = document.getElementById('grade');\n      const submitBtn = document.getElementById('submitBtn');\n      const hint = document.getElementById('hint');\n\n      function isPositiveNumber(value) {\n        // \u0420\u0430\u0437\u0440\u0435\u0448\u0430\u0435\u043c \u0444\u043e\u0440\u043c\u0443: \"123\", \"0,5\", \"4.25\"\n        const trimmed = value.trim();\n        if (!/^\\d+([.,]\\d+)?$/.test(trimmed)) return false;\n        const num = parseFloat(trimmed.replace(',', '.'));\n        return Number.isFinite(num) &amp;&amp; num &gt; 0;\n      }\n\n      function clearError() {\n        submitBtn.classList.remove('error');\n        hint.classList.remove('show');\n      }\n\n      gradeInput.addEventListener('input', clearError);\n      form.addEventListener('input', clearError);\n\n      form.addEventListener('submit', function (e) {\n        const grade = gradeInput.value;\n        if (!isPositiveNumber(grade)) {\n          e.preventDefault();\n          submitBtn.classList.add('error');\n          hint.classList.add('show');\n        }\n      });\n    })();\n  &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>"}]}